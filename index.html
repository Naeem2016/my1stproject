<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11 vs 11 Football - Liverpool vs Manchester United</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .game-phase {
            display: none;
        }

        .game-phase.active {
            display: block;
        }

        /* Team Selection Styles */
        .teams-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 30px;
        }

        .team {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            border: 3px solid rgba(255, 255, 255, 0.2);
        }

        .team-liverpool { 
            border-color: #C8102E;
            background: rgba(200, 16, 46, 0.2);
        }

        .team-manutd { 
            border-color: #DA291C;
            background: rgba(218, 41, 28, 0.2);
        }

        .team h2 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .formation-display {
            text-align: center;
            margin-bottom: 10px;
            font-size: 1em;
            opacity: 0.9;
        }

        .team-players {
            min-height: 400px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.3);
        }

        .player-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 4px solid;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .team-liverpool .player-item { border-left-color: #C8102E; }
        .team-manutd .player-item { border-left-color: #DA291C; }

        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .player-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .player-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .player-card.selected {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
        }

        .player-card.disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .player-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .player-rating {
            background: #FF9800;
            color: white;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .player-position {
            font-size: 0.8em;
            opacity: 0.8;
            margin-top: 5px;
        }

        .player-stats {
            font-size: 0.7em;
            opacity: 0.8;
            margin-top: 3px;
        }

        .player-team {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.7em;
            opacity: 0.8;
        }

        .controls {
            text-align: center;
            margin: 30px 0;
        }

        .button {
            padding: 15px 30px;
            margin: 0 10px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #FF5252, #FF4081);
            color: white;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Game Field Styles */
        .game-field-container {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .score-board {
            font-size: 2.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .time-display {
            font-size: 1.5em;
            font-weight: bold;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .game-field {
            position: relative;
            width: 100%;
            height: 600px;
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
            border: 4px solid #FFF;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .field-markings {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
        }

        .center-spot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
        }

        .goal {
            position: absolute;
            width: 180px;
            height: 80px;
            border: 3px solid rgba(255, 255, 255, 0.7);
            top: 50%;
            transform: translateY(-50%);
        }

        .goal-liverpool {
            left: 0;
            border-right: none;
        }

        .goal-manutd {
            right: 0;
            border-left: none;
        }

        .penalty-area {
            position: absolute;
            width: 250px;
            height: 150px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            top: 50%;
            transform: translateY(-50%);
        }

        .penalty-area-liverpool {
            left: 0;
            border-right: none;
        }

        .penalty-area-manutd {
            right: 0;
            border-left: none;
        }

        .player-on-field {
            position: absolute;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.7em;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid;
            z-index: 10;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .player-on-field.liverpool {
            background: linear-gradient(45deg, #C8102E, #9c0c23);
            border-color: #F6EB61;
        }

        .player-on-field.manutd {
            background: linear-gradient(45deg, #DA291C, #a81f15);
            border-color: #FBE122;
        }

        .player-on-field:hover {
            transform: scale(1.1);
            z-index: 20;
        }

        .player-on-field.selected {
            box-shadow: 0 0 20px gold;
            transform: scale(1.2);
            z-index: 30;
        }

        .ball {
            position: absolute;
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            z-index: 5;
            transition: all 0.5s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .game-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px 40px;
            border-radius: 10px;
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            z-index: 100;
            display: none;
        }

        .match-events {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .event-item {
            padding: 8px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            border-left: 4px solid #FF9800;
        }

        .selection-info {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-weight: bold;
        }

        .movement-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        .movement-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .movement-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .movement-btn:active {
            transform: scale(0.95);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes celebrate {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        .celebrating {
            animation: celebrate 0.5s ease-in-out 3;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Team Selection Phase -->
        <div id="selection-phase" class="game-phase active">
            <div class="header">
                <h1>11 vs 11 Football - Liverpool vs Manchester United</h1>
                <p>Build your teams with real players and formations!</p>
            </div>

            <div class="teams-container">
                <div class="team team-liverpool">
                    <h2>🔴 Liverpool (4-3-3)</h2>
                    <div class="formation-display">Formation: 4-3-3 | Players: <span id="liverpool-count">0</span>/11</div>
                    <div class="team-players" id="liverpool-players">
                        <em>No players selected yet</em>
                    </div>
                    <div><strong>Team Rating: <span id="liverpool-rating">0</span></strong></div>
                </div>
                
                <div class="team team-manutd">
                    <h2>🔴 Manchester United (4-2-3-1)</h2>
                    <div class="formation-display">Formation: 4-2-3-1 | Players: <span id="manutd-count">0</span>/11</div>
                    <div class="team-players" id="manutd-players">
                        <em>No players selected yet</em>
                    </div>
                    <div><strong>Team Rating: <span id="manutd-rating">0</span></strong></div>
                </div>
            </div>

            <div class="selection-info">
                Currently selecting for: <span id="current-team-name">Liverpool</span>
                | Press 1 for Liverpool, 2 for Manchester United
            </div>

            <div class="controls">
                <button class="button btn-primary" onclick="switchTeam()">
                    Switch to <span id="current-team-display">Manchester United</span>
                </button>
                <button class="button btn-success" onclick="startMatch()" id="start-btn" disabled>
                    🎯 Start 11 vs 11 Match
                </button>
                <button class="button btn-danger" onclick="resetSelection()">
                    🔄 Reset Teams
                </button>
            </div>

            <h3>🏃 Available Players (Click to Add to Team)</h3>
            <div class="players-grid" id="players-container">
                <!-- Players will be dynamically inserted here -->
            </div>
        </div>

        <!-- Game Play Phase -->
        <div id="game-phase" class="game-phase">
            <div class="header">
                <h1>⚽ 11 vs 11 Match Live - Liverpool vs Manchester United</h1>
                <p>Control your players and score goals!</p>
            </div>

            <div class="game-info">
                <div class="score-board">
                    <span id="score-liverpool">0</span> - <span id="score-manutd">0</span>
                </div>
                <div class="time-display">
                    ⏱️ <span id="game-time">00:00</span>
                </div>
                <div class="action-buttons">
                    <button class="action-btn" onclick="shootBall()">🎯 Shoot</button>
                    <button class="action-btn" onclick="passBall()">⇄ Pass</button>
                    <button class="action-btn" onclick="pauseGame()" id="pause-btn">⏸️ Pause</button>
                    <button class="action-btn" onclick="endGame()" id="end-btn">⏹️ End Game</button>
                </div>
            </div>

            <div class="movement-controls">
                <div></div>
                <button class="movement-btn" onclick="movePlayer('up')">↑</button>
                <div></div>
                <button class="movement-btn" onclick="movePlayer('left')">←</button>
                <button class="movement-btn" onclick="shootBall()">⚽ SHOOT</button>
                <button class="movement-btn" onclick="movePlayer('right')">→</button>
                <div></div>
                <button class="movement-btn" onclick="movePlayer('down')">↓</button>
                <div></div>
            </div>

            <div class="game-field-container">
                <div class="game-field" id="game-field">
                    <div class="field-markings"></div>
                    <div class="center-circle"></div>
                    <div class="center-spot"></div>
                    <div class="penalty-area penalty-area-liverpool"></div>
                    <div class="penalty-area penalty-area-manutd"></div>
                    <div class="goal goal-liverpool"></div>
                    <div class="goal goal-manutd"></div>
                    <!-- Players and ball will be dynamically added here -->
                </div>
            </div>

            <div class="match-events" id="match-events">
                <div class="event-item">Match started! Good luck to both teams!</div>
            </div>

            <div class="game-message" id="game-message"></div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            score: { liverpool: 0, manutd: 0 },
            time: 0,
            isPlaying: false,
            selectedPlayer: null,
            ballPosition: { x: 50, y: 50 },
            possession: null,
            events: [],
            timer: null
        };

        // Real players database
        const liverpoolPlayers = [
            { id: 1, name: "Alisson", position: "GK", rating: 89, pac: 85, sho: 60, pas: 85, dri: 75, def: 88, phy: 88 },
            { id: 2, name: "Alexander-Arnold", position: "RB", rating: 86, pac: 80, sho: 79, pas: 90, dri: 82, def: 80, phy: 77 },
            { id: 3, name: "Van Dijk", position: "CB", rating: 89, pac: 76, sho: 60, pas: 75, dri: 72, def: 91, phy: 86 },
            { id: 4, name: "Konaté", position: "CB", rating: 84, pac: 82, sho: 45, pas: 70, dri: 72, def: 85, phy: 85 },
            { id: 5, name: "Robertson", position: "LB", rating: 85, pac: 83, sho: 66, pas: 80, dri: 79, def: 80, phy: 74 },
            { id: 6, name: "Szoboszlai", position: "CM", rating: 83, pac: 75, sho: 81, pas: 82, dri: 83, def: 65, phy: 74 },
            { id: 7, name: "Mac Allister", position: "CM", rating: 84, pac: 70, sho: 78, pas: 84, dri: 82, def: 72, phy: 75 },
            { id: 8, name: "Jones", position: "CM", rating: 78, pac: 76, sho: 72, pas: 77, dri: 80, def: 68, phy: 72 },
            { id: 9, name: "Salah", position: "RW", rating: 89, pac: 90, sho: 87, pas: 81, dri: 88, def: 45, phy: 75 },
            { id: 10, name: "Núñez", position: "ST", rating: 81, pac: 89, sho: 81, pas: 70, dri: 78, def: 42, phy: 83 },
            { id: 11, name: "Diaz", position: "LW", rating: 83, pac: 88, sho: 77, pas: 75, dri: 85, def: 38, phy: 68 },
            { id: 12, name: "Gakpo", position: "LW", rating: 80, pac: 77, sho: 79, pas: 76, dri: 80, def: 45, phy: 74 },
            { id: 13, name: "Jota", position: "ST", rating: 82, pac: 83, sho: 82, pas: 75, dri: 83, def: 48, phy: 72 },
            { id: 14, name: "Endo", position: "CDM", rating: 79, pac: 68, sho: 66, pas: 77, dri: 75, def: 80, phy: 78 },
            { id: 15, name: "Tsimikas", position: "LB", rating: 77, pac: 76, sho: 62, pas: 75, dri: 76, def: 75, phy: 70 }
        ];

        const manutdPlayers = [
            { id: 16, name: "Onana", position: "GK", rating: 84, pac: 82, sho: 40, pas: 85, dri: 75, def: 82, phy: 78 },
            { id: 17, name: "Dalot", position: "RB", rating: 81, pac: 80, sho: 69, pas: 76, dri: 78, def: 78, phy: 76 },
            { id: 18, name: "Varane", position: "CB", rating: 83, pac: 75, sho: 55, pas: 70, dri: 70, def: 84, phy: 77 },
            { id: 19, name: "Martínez", position: "CB", rating: 82, pac: 74, sho: 58, pas: 74, dri: 72, def: 84, phy: 82 },
            { id: 20, name: "Shaw", position: "LB", rating: 81, pac: 76, sho: 65, pas: 78, dri: 78, def: 79, phy: 80 },
            { id: 21, name: "Casemiro", position: "CDM", rating: 86, pac: 62, sho: 74, pas: 76, dri: 76, def: 85, phy: 86 },
            { id: 22, name: "Mainoo", position: "CDM", rating: 75, pac: 72, sho: 65, pas: 76, dri: 77, def: 72, phy: 70 },
            { id: 23, name: "Fernandes", position: "CAM", rating: 87, pac: 68, sho: 84, pas: 88, dri: 83, def: 62, phy: 74 },
            { id: 24, name: "Garnacho", position: "RW", rating: 77, pac: 88, sho: 74, pas: 72, dri: 81, def: 35, phy: 64 },
            { id: 25, name: "Højlund", position: "ST", rating: 78, pac: 83, sho: 79, pas: 65, dri: 75, def: 40, phy: 80 },
            { id: 26, name: "Rashford", position: "LW", rating: 84, pac: 91, sho: 82, pas: 75, dri: 83, def: 40, phy: 72 },
            { id: 27, name: "Mount", position: "CAM", rating: 80, pac: 74, sho: 76, pas: 80, dri: 80, def: 62, phy: 68 },
            { id: 28, name: "Antony", position: "RW", rating: 76, pac: 83, sho: 74, pas: 75, dri: 82, def: 38, phy: 62 },
            { id: 29, name: "Maguire", position: "CB", rating: 78, pac: 58, sho: 58, pas: 70, dri: 68, def: 80, phy: 84 },
            { id: 30, name: "Wan-Bissaka", position: "RB", rating: 79, pac: 82, sho: 58, pas: 72, dri: 76, def: 82, phy: 78 }
        ];

        class FootballGame {
            constructor() {
                this.liverpool = [];
                this.manutd = [];
                this.selectedPlayers = new Set();
                this.currentTeam = 'liverpool';
                this.gameState = {
                    score: { liverpool: 0, manutd: 0 },
                    time: 0,
                    isPlaying: false,
                    selectedPlayer: null,
                    ballPosition: { x: 50, y: 50 },
                    possession: null,
                    events: [],
                    timer: null
                };
            }

            initializeSelection() {
                this.autoSelectTeams();
                this.renderPlayers();
                this.updateTeamDisplays();
                this.updateControls();
            }

            autoSelectTeams() {
                // Auto-select best 11 players for each team
                this.liverpool = liverpoolPlayers.slice(0, 11);
                this.manutd = manutdPlayers.slice(0, 11);
                
                this.selectedPlayers.clear();
                this.liverpool.forEach(p => this.selectedPlayers.add(p.id));
                this.manutd.forEach(p => this.selectedPlayers.add(p.id));
            }

            renderPlayers() {
                const container = document.getElementById('players-container');
                container.innerHTML = '';

                // Render Liverpool players
                liverpoolPlayers.forEach(player => {
                    const isSelected = this.selectedPlayers.has(player.id);
                    const playerCard = this.createPlayerCard(player, 'liverpool', isSelected);
                    container.appendChild(playerCard);
                });

                // Render Manchester United players
                manutdPlayers.forEach(player => {
                    const isSelected = this.selectedPlayers.has(player.id);
                    const playerCard = this.createPlayerCard(player, 'manutd', isSelected);
                    container.appendChild(playerCard);
                });
            }

            createPlayerCard(player, team, isSelected) {
                const playerCard = document.createElement('div');
                playerCard.className = `player-card ${isSelected ? 'disabled' : ''}`;
                playerCard.innerHTML = `
                    <div class="player-team">${team === 'liverpool' ? 'LIV' : 'MU'}</div>
                    <div class="player-info">
                        <div>
                            <strong>${player.name}</strong>
                            <div class="player-position">${player.position} | OVR: ${player.rating}</div>
                            <div class="player-stats">PAC:${player.pac} SHO:${player.sho} PAS:${player.pas} DRI:${player.dri} DEF:${player.def} PHY:${player.phy}</div>
                        </div>
                        <span class="player-rating">${player.rating}</span>
                    </div>
                `;

                if (!isSelected) {
                    playerCard.onclick = () => this.selectPlayer(player, team);
                }

                return playerCard;
            }

            selectPlayer(player, team) {
                if (team !== this.currentTeam) {
                    this.showMessage(`You can only select ${this.currentTeam === 'liverpool' ? 'Liverpool' : 'Manchester United'} players!`);
                    return;
                }

                const targetTeam = this.currentTeam === 'liverpool' ? this.liverpool : this.manutd;
                
                if (targetTeam.length >= 11) {
                    this.showMessage(`${this.currentTeam === 'liverpool' ? 'Liverpool' : 'Manchester United'} already has 11 players!`);
                    return;
                }

                targetTeam.push(player);
                this.selectedPlayers.add(player.id);
                this.updateTeamDisplays();
                this.renderPlayers();
                this.updateControls();
                
                this.showMessage(`${player.name} added to ${this.currentTeam === 'liverpool' ? 'Liverpool' : 'Manchester United'}!`);
            }

            updateTeamDisplays() {
                this.updateTeamDisplay('liverpool', this.liverpool);
                this.updateTeamDisplay('manutd', this.manutd);
            }

            updateTeamDisplay(team, players) {
                const playersContainer = document.getElementById(`${team}-players`);
                const countElement = document.getElementById(`${team}-count`);
                const ratingElement = document.getElementById(`${team}-rating`);

                countElement.textContent = players.length;
                ratingElement.textContent = this.calculateTeamRating(players);

                if (players.length === 0) {
                    playersContainer.innerHTML = '<em>No players selected</em>';
                } else {
                    playersContainer.innerHTML = players.map(player => `
                        <div class="player-item">
                            <div>
                                <strong>${player.name}</strong>
                                <div class="player-position">${player.position} - ${player.rating} OVR</div>
                            </div>
                            <span class="player-rating">${player.rating}</span>
                        </div>
                    `).join('');
                }
            }

            calculateTeamRating(team) {
                if (team.length === 0) return '0';
                const total = team.reduce((sum, player) => sum + player.rating, 0);
                return Math.round(total / team.length);
            }

            switchTeam() {
                this.currentTeam = this.currentTeam === 'liverpool' ? 'manutd' : 'liverpool';
                this.updateControls();
                this.showMessage(`Now selecting for ${this.currentTeam === 'liverpool' ? 'Liverpool' : 'Manchester United'}`);
            }

            updateControls() {
                const teamDisplay = document.getElementById('current-team-display');
                const teamName = document.getElementById('current-team-name');
                const startButton = document.getElementById('start-btn');

                teamDisplay.textContent = this.currentTeam === 'liverpool' ? 'Manchester United' : 'Liverpool';
                teamName.textContent = this.currentTeam === 'liverpool' ? 'Liverpool' : 'Manchester United';
                startButton.disabled = !(this.liverpool.length === 11 && this.manutd.length === 11);
            }

            showMessage(text) {
                // Simple message display
                alert(text);
            }

            startMatch() {
                if (this.liverpool.length !== 11 || this.manutd.length !== 11) {
                    this.showMessage("Both teams need 11 players!");
                    return;
                }

                this.switchPhase('game-phase');
                this.initializeGame();
            }

            switchPhase(phaseId) {
                document.querySelectorAll('.game-phase').forEach(phase => {
                    phase.classList.remove('active');
                });
                document.getElementById(phaseId).classList.add('active');
            }

            initializeGame() {
                this.gameState.score = { liverpool: 0, manutd: 0 };
                this.gameState.time = 0;
                this.gameState.isPlaying = true;
                this.updateScore();
                this.updateGameTime();
                this.setupField();
                this.startGameTimer();
                
                this.addEvent("11 vs 11 Match Started! Liverpool vs Manchester United");
                this.addEvent("Use arrow keys to move, SPACE to shoot!");
            }

            setupField() {
                const field = document.getElementById('game-field');
                field.innerHTML = `
                    <div class="field-markings"></div>
                    <div class="center-circle"></div>
                    <div class="center-spot"></div>
                    <div class="penalty-area penalty-area-liverpool"></div>
                    <div class="penalty-area penalty-area-manutd"></div>
                    <div class="goal goal-liverpool"></div>
                    <div class="goal goal-manutd"></div>
                `;

                // Position players in 4-3-3 formation for Liverpool
                const liverpoolFormation = [
                    { x: 5, y: 50 },   // GK
                    { x: 20, y: 20 },  // RB
                    { x: 20, y: 40 },  // RCB
                    { x: 20, y: 60 },  // LCB
                    { x: 20, y: 80 },  // LB
                    { x: 40, y: 30 },  // RCM
                    { x: 40, y: 50 },  // CM
                    { x: 40, y: 70 },  // LCM
                    { x: 65, y: 25 },  // RW
                    { x: 65, y: 50 },  // ST
                    { x: 65, y: 75 }   // LW
                ];

                // Position players in 4-2-3-1 formation for Man Utd
                const manutdFormation = [
                    { x: 95, y: 50 },  // GK
                    { x: 80, y: 20 },  // RB
                    { x: 80, y: 40 },  // RCB
                    { x: 80, y: 60 },  // LCB
                    { x: 80, y: 80 },  // LB
                    { x: 65, y: 40 },  // RCDM
                    { x: 65, y: 60 },  // LCDM
                    { x: 55, y: 50 },  // CAM
                    { x: 45, y: 25 },  // RW
